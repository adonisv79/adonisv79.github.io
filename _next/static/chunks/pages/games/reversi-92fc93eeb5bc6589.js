(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[252],{9366:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/games/reversi",function(){return r(2546)}])},2546:function(e,t,r){"use strict";let s;r.r(t),r.d(t,{default:function(){return T}});var n=r(5893),a=r(7294),i=r(5675),o=r.n(i),l=r(9793),c=r.n(l);function d(e){return(0,n.jsx)("button",{disabled:e.disabled,onClick:()=>{e.onClick&&e.onClick()},className:" m-1 p-0.5 rounded-full  bg-gray-500 disabled:opacity-50",children:(0,n.jsx)("span",{className:" block px-2 py-1 rounded-full font-semibold text-sm text-purple-200 bg-indigo-800 hover:bg-primary-b-3 hover:text-primary-f-3",children:e.children})})}function u(e){let t;let{value:r,onTileClicked:s}=e;return r&&(t=1===r?(0,n.jsx)(o(),{width:25,height:25,alt:"disc white side up",className:c().discimage,src:"/images/games/reversi/disc-white.svg"}):(0,n.jsx)(o(),{width:25,height:25,alt:"disc black side up",className:c().discimage,src:"/images/games/reversi/disc-black.svg"})),(0,n.jsx)("td",{className:c().boardtile,onClick:()=>{s(e.x,e.y)},children:t})}function h(e){let{gameHistoryIndex:t,boardTiles:r,currentPlayer:s,onTileClicked:a,undoTurn:i,skipTurn:o}=e,l=[];for(let e=0;e<8;e+=1){let t=[];for(let s=0;s<8;s+=1)t.push((0,n.jsx)(u,{x:s,y:e,value:r[s][e],onTileClicked:a},"tile="+s+":"+e));l.push((0,n.jsx)("tr",{children:t},"row="+e))}let h="reversi-board";return 1===s?h+=" white-turn":-1===s&&(h+=" black-turn"),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{children:(0,n.jsx)("table",{className:c().gameviewport,children:(0,n.jsx)("tbody",{className:c().boardtable,children:l})})}),(0,n.jsxs)("div",{children:[(0,n.jsx)(d,{onClick:()=>{i()},disabled:t<=0,children:"Undo"}),"\xa0",(0,n.jsxs)(d,{onClick:()=>{o()},children:["Skip ",1===s?"white's":"black's"," turn"]})]})]})}var g=r(3345),m=r.n(g);function x(e){let t="",{logs:r}=e,s=r.length>=10?r.length-10:0;for(let e=s;e<r.length;e+=1)t+="".concat(r[e],"\n");return(0,n.jsx)("div",{className:m().logsarea,children:(0,n.jsx)("textarea",{className:["text-xs p-1 mx-1 text-gray-800",m().logslist].join(" "),readOnly:!0,value:t})})}function y(e){let{currentPlayer:t,whiteScore:r,blackScore:s,logs:a,newGame:i}=e,o="border border-gray-500",l="border border-gray-500";return 1===t?o+=" bg-yellow-700":-1===t&&(l+=" bg-yellow-700"),(0,n.jsxs)("div",{id:"info-panel",children:[(0,n.jsx)("h2",{className:"text-xl font-bold",children:"REVERSI"}),(0,n.jsx)("div",{className:"text-sm font-medium",children:"It is ".concat(1===t?"White":"Black","'s turn")}),(0,n.jsxs)("div",{className:[o,"p-1 m-1"].join(" "),children:[(0,n.jsx)("svg",{className:m().playericon,height:"14",width:"14",children:(0,n.jsx)("circle",{cx:"7",cy:"7",r:"6",stroke:"grey",strokeWidth:"1",fill:"white"})}),"White Player: ".concat(r)]}),(0,n.jsxs)("div",{className:[l,"p-1 m-1"].join(" "),children:[(0,n.jsx)("svg",{className:m().playericon,height:"14",width:"14",children:(0,n.jsx)("circle",{cx:"7",cy:"7",r:"6",stroke:"grey",strokeWidth:"1",fill:"black"})}),"Black Player: ".concat(s)]}),(0,n.jsx)(x,{logs:a}),(0,n.jsx)(d,{onClick:i,children:"Start New Game"})]})}function f(e,t,r,s,n,a,i){let o=0,l=t+r,c=s+n;for(;;){let t=function(e,t,r,s,n){let a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(t<0||t>7||r<0||r>7);else if(e[t][r]===s&&n>0)return 0;else if(e[t][r]===-1*s)return a&&(e[t][r]=s),1;return -1}(e,l,c,a,o,i);switch(t){case 1:o+=1;break;case 0:return o;default:return 0}l+=r,c+=n}}function b(e,t,r,s){let n=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return f(e,t,0,r,-1,s,n)}function p(e,t,r,s){let n=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return f(e,t,0,r,1,s,n)}function w(e,t,r,s){let n=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return f(e,t,-1,r,0,s,n)}function v(e,t,r,s){let n=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return f(e,t,1,r,0,s,n)}function k(e,t,r,s){let n=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return f(e,t,1,r,-1,s,n)}function j(e,t,r,s){let n=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return f(e,t,-1,r,-1,s,n)}function _(e,t,r,s){let n=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return f(e,t,1,r,1,s,n)}function N(e,t,r,s){let n=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return f(e,t,-1,r,1,s,n)}var H={captureTile:function(e,t,r,s){let n={total:0,north:0,south:0,east:0,west:0,northeast:0,northwest:0,southeast:0,southwest:0};return n.north=b(e,t,r,s),n.south=p(e,t,r,s),n.east=v(e,t,r,s),n.west=w(e,t,r,s),n.northeast=k(e,t,r,s),n.northwest=j(e,t,r,s),n.southeast=_(e,t,r,s),n.southwest=N(e,t,r,s),n.total=n.north+n.south+n.east+n.west+n.northeast+n.northwest+n.southeast+n.southwest,n.total>0&&(n.north>0&&b(e,t,r,s,!0),n.south>0&&p(e,t,r,s,!0),n.east>0&&v(e,t,r,s,!0),n.west>0&&w(e,t,r,s,!0),n.northeast>0&&k(e,t,r,s,!0),n.northwest>0&&j(e,t,r,s,!0),n.southeast>0&&_(e,t,r,s,!0),n.southwest>0&&N(e,t,r,s,!0)),n.total}};function S(){let e={logs:[],gameHistoryIndex:0,gameHistory:[]},t=Array(8);for(let e=0;e<8;e+=1)t[e]=Array(8);return t[3][3]=1,t[4][4]=1,t[4][3]=-1,t[3][4]=-1,e.gameHistory.push({turn:1,whiteScore:2,blackScore:2,board_tiles:t}),e}function I(e){let t=JSON.stringify(e);return JSON.parse(t)}class P extends a.Component{onNewGame(){s.setState(()=>S()),s.addLog("A new game begins...")}onSkipTurn(){s.setState(e=>{let t=I(e),r=I(t.gameHistory[t.gameHistoryIndex]);1===s.currentPlayer()?s.addLog("".concat(r.turn,": White skips his turn")):-1===s.currentPlayer()&&s.addLog("".concat(r.turn,": Black skips his turn")),r.turn+=1,s.saveNextGameHistory(r)})}onUndoMove(){s.setState(e=>{let t=I(e);return t.gameHistoryIndex>0&&(t.gameHistoryIndex-=1,t.gameHistory.pop(),t.logs.push("Undoing turn ".concat(t.gameHistory[t.gameHistoryIndex].turn))),t})}onTileClicked(e,t){let r;let n=I(s.currentGame());if(!n.board_tiles[e][t]){let a=H.captureTile(n.board_tiles,e,t,s.currentPlayer());a>0?(1===s.currentPlayer()?(n.board_tiles[e][t]=1,n.whiteScore+=a+1,n.blackScore-=a,r="".concat(n.turn,": White occupies ").concat(e,":").concat(t)):(n.board_tiles[e][t]=-1,n.whiteScore-=a,n.blackScore+=a+1,r="".concat(n.turn,": Black occupies ").concat(e,":").concat(t)),n.turn+=1,s.saveNextGameHistory(n)):r="Invalid Move at ".concat(e,":").concat(t),s.addLog(r)}}currentPlayer(){return s.currentGame().turn%2==0?-1:1}currentGame(){return s.state.gameHistory[s.state.gameHistoryIndex]}addLog(e){s.setState(t=>{let r=I(t);return r.logs.push(e),r})}saveNextGameHistory(e){s.setState(t=>{let r=I(t);return r.gameHistory||(r.gameHistory=[]),r.gameHistory.push({...e}),r.gameHistory.length>5&&r.gameHistory.shift(),r.gameHistoryIndex=r.gameHistory.length-1,r})}render(){return(0,n.jsxs)("div",{id:"game",className:"flex flex-wrap",children:[(0,n.jsx)("div",{className:"m-4 w-60",children:(0,n.jsx)(y,{currentPlayer:s.currentPlayer(),logs:s.state.logs,whiteScore:s.currentGame().whiteScore,blackScore:s.currentGame().blackScore,newGame:s.onNewGame})}),(0,n.jsx)("div",{className:"m-4 w-60",children:(0,n.jsx)("div",{children:(0,n.jsx)(h,{boardTiles:s.currentGame().board_tiles,gameHistoryIndex:s.state.gameHistoryIndex,currentPlayer:s.currentPlayer(),onTileClicked:s.onTileClicked,skipTurn:s.onSkipTurn,undoTurn:s.onUndoMove})})}),(0,n.jsx)("div",{className:"m-4 w-80",children:(0,n.jsxs)("p",{children:['The goal is to capture as many areas as possible. You can capture by selecting an area wherein you can flip your opponent"s discs. This is valid only if they will be surrounded by your colored disc. For the full instructions, please see',(0,n.jsx)("a",{target:"new",href:"https://en.wikipedia.org/wiki/Reversi",children:" the Wikipedia guide on Reversi "}),". Note this game is meant to be played between 2 players on hotseat."]})})]})}constructor(e){super(e),s=this,s.state=S(),s.state.logs.push("Welcome to My Othello demo")}}function T(){return(0,n.jsx)("div",{className:"grid m-4 justify-center object-center border-t border-b",children:(0,n.jsx)(P,{})})}},9793:function(e){e.exports={"game-board":"Board_game-board__hfRRU",boardtable:"Board_boardtable__oCXlt",boardtile:"Board_boardtile__Y0Tdf",discimage:"Board_discimage__7zIDJ"}},3345:function(e){e.exports={playericon:"InfoPanel_playericon__SF_vN",logsarea:"InfoPanel_logsarea__68KpF",logslist:"InfoPanel_logslist__vzzHf"}}},function(e){e.O(0,[675,774,888,179],function(){return e(e.s=9366)}),_N_E=e.O()}]);